<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick="ChooseAccount()">Choose</button>
    <div id="target">...</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/3.0.0-rc.5/web3.min.js"></script>
    <script>
       async function ChooseAccount(){
                if(typeof ethereum =="undefined"){
                    alert("Please install provider")
                    return
                }
                var detail = {method:"eth_requestAccounts"}
                var accounts = await ethereum.request(detail)
                var e = document.getElementById("target")
                e.innerText = JSON.stringify(accounts)
                await getBalance(accounts[0])
        }
        async function getBalance(address){
            var w = new Web3(ethereum)
            var balance = await w.eth.getBalance(address)
            var ether = w.utils.fromWei(balance)
            var e = document.getElementById("target")
            e.innerText += " Your balance is " + (+ether).toFixed(8)
            
        }



    </script>   
    




</body>
</html>